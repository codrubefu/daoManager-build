"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[375],{8375:(q,c,o)=>{o.r(c),o.d(c,{UsersModule:()=>I});var m=o(9132),d=o(6895),i=o(4006),f=o(2046),v=o(508),g=o(1500),n=o(2340),t=o(4650),h=o(529);function Z(r,l){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",15),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"a",16),t._uU(13,"edit"),t.qZA()()()),2&r){const e=l.$implicit;t.xp6(2),t.hij(" ",e.id," "),t.xp6(2),t.hij(" ",e.last_name," "),t.xp6(2),t.hij(" ",e.first_name," "),t.xp6(2),t.hij(" ",e.email," "),t.xp6(2),t.hij(" ",e.phone," "),t.xp6(2),t.MGl("href","/#/admin/users/edit?id=",e.id,"",t.LSH)}}let U=(()=>{class r{http;clubList;dataTable;constructor(e){this.http=e}deactivateClub(e){this.http.get(n.G.deactivateClub+"/"+e,{headers:{Authorization:"Bearer "+n.G.key}}).subscribe({next:a=>{this.dataTable={dataRows:a}},error:a=>{console.error(a)},complete:()=>{}})}activateClub(e){this.http.get(n.G.activateClub+"/"+e,{headers:{Authorization:"Bearer "+n.G.key}}).subscribe({next:a=>{this.dataTable={dataRows:a}},error:a=>{console.error(a)},complete:()=>{}})}ngOnInit(){this.http.get(n.G.getUsersList,{headers:{Authorization:"Bearer "+n.G.key}}).subscribe({next:e=>{this.dataTable={dataRows:e}},error:e=>{console.error(e)},complete:()=>{}})}ngAfterViewInit(){$("#datatables").DataTable({pagingType:"full_numbers",lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],responsive:!0,language:{search:"_INPUT_",searchPlaceholder:"Search records"}});const e=$("#datatables").DataTable();e.on("click",".edit",function(a){let s=$(this).closest("tr");$(s).hasClass("child")&&(s=s.prev(".parent"));var u=e.row(s).data();alert("You press on Row: "+u[0]+" "+u[1]+" "+u[2]+"'s row."),a.preventDefault()}),e.on("click",".remove",function(a){const s=$(this).closest("tr");e.row(s).remove().draw(),a.preventDefault()}),e.on("click",".like",function(a){alert("You clicked on Like button"),a.preventDefault()}),$(".card .material-datatables label").addClass("form-group")}static \u0275fac=function(a){return new(a||r)(t.Y36(h.eN))};static \u0275cmp=t.Xpm({type:r,selectors:[["clubs-list"]],decls:43,vars:1,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-primary","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],[1,"card-body"],[1,"toolbar"],[1,"material-datatables"],["id","datatables","cellspacing","0","width","100%",1,"table","table-striped","table-no-bordered","table-hover",2,"width","100%"],[1,"disabled-sorting","text-right"],[4,"ngFor","ngForOf"],[1,"text-primary"],[1,"material-icons",3,"href"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"i",7),t._uU(8,"assignment"),t.qZA()(),t.TgZ(9,"h4",8),t._uU(10,"DataTables.net"),t.qZA()(),t.TgZ(11,"div",9),t._UZ(12,"div",10),t.TgZ(13,"div",11)(14,"table",12)(15,"thead")(16,"tr")(17,"th"),t._uU(18," ID"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Nume"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Prenume"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"E-mail"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Telefon"),t.qZA(),t._UZ(27,"th",13),t.qZA()(),t.TgZ(28,"tfoot")(29,"tr")(30,"th"),t._uU(31," ID"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Nume"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Prenume"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"E-mail"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"Telefon"),t.qZA(),t._UZ(40,"th",13),t.qZA()(),t.TgZ(41,"tbody"),t.YNc(42,Z,14,6,"tr",14),t.qZA()()()()()()()()()),2&a&&(t.xp6(42),t.Q6J("ngForOf",s.dataTable.dataRows))},dependencies:[d.sg],styles:[".inactive[_ngcontent-%COMP%]{background:red;opacity:80%}"]})}return r})();var T=o(3238),b=o(4144),A=o(9549),y=o(4385),C=o(4859);function N(r,l){1&r&&(t.TgZ(0,"div",28)(1,"button",29)(2,"i",30),t._uU(3,"close"),t.qZA()(),t.TgZ(4,"span"),t._uU(5," Sportivul a fost modificat cu success! "),t.qZA()())}function x(r,l){if(1&r&&(t.TgZ(0,"div",31)(1,"button",29)(2,"i",30),t._uU(3,"close"),t.qZA()(),t.TgZ(4,"span"),t._uU(5),t.qZA()()),2&r){const e=t.oxw();t.xp6(5),t.hij(" ",e.errorMessage," ")}}function w(r,l){if(1&r&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&r){const e=l.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}let p=(()=>{class r{http;router;ActivatedRoute;showError;errorMessage;userForm;showSuccess=!1;titles=[{value:"mr",viewValue:"D-nu"},{value:"mrs",viewValue:"D-na"},{value:"ms",viewValue:"D-ra"}];id;data;constructor(e,a,s){this.http=e,this.router=a,this.ActivatedRoute=s,this.loadUserForm()}loadUser(){this.userForm=new i.cw({first_name:new i.NI,last_name:new i.NI,email:new i.NI,phone:new i.NI,title:new i.NI,address:new i.NI,city:new i.NI,country:new i.NI,zip:new i.NI,about:new i.NI})}loadUserForm(){this.loadUser(),this.ActivatedRoute.queryParams.subscribe(e=>{this.id=e.id}),this.id&&this.http.get(n.G.getUser+"/"+this.id,{headers:{Authorization:"Bearer "+n.G.key}}).subscribe({next:e=>{this.data=e},error:e=>{this.errorMessage=e.error.message,this.showError=!0},complete:()=>{this.userForm.patchValue({first_name:this.data.first_name,last_name:this.data.last_name,email:this.data.email,phone:this.data.phone,title:this.data.title,address:this.data.address,city:this.data.city,country:this.data.country,zip:this.data.zip,about:this.data.about})}})}ngOnInit(){}clubFormHtml(){}addOrEditUser(){let e=n.G.addUser;this.id&&(e=n.G.editUser+"/"+this.id),this.http.post(e,{first_name:this.userForm.value.first_name,last_name:this.userForm.value.last_name,email:this.userForm.value.email,phone:this.userForm.value.phone,title:this.userForm.value.title,address:this.userForm.value.address,city:this.userForm.value.city,country:this.userForm.value.country,zip:this.userForm.value.zip,about:this.userForm.value.about},{headers:{Authorization:"Bearer "+n.G.key}}).subscribe({next:a=>{},error:a=>{this.errorMessage=a.error.message,this.showError=!0},complete:()=>{this.router.navigate(["/users-list"]).then(a=>console.log(a)),this.showSuccess=!0}})}static \u0275fac=function(a){return new(a||r)(t.Y36(h.eN),t.Y36(m.F0),t.Y36(m.gz))};static \u0275cmp=t.Xpm({type:r,selectors:[["user-add"]],decls:50,vars:4,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-black"],[1,"card-title"],[1,"card-category"],[1,"card-body"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"formGroup","ngSubmit"],["formControlName","error","type","hidden"],[1,"col-md-4"],["placeholder","Titlu","name","title","formControlName","title"],[3,"value",4,"ngFor","ngForOf"],[1,"example-full-width"],["matInput","","placeholder","Prenume","formControlName","first_name","type","text"],["matInput","","placeholder","Nume","formControlName","last_name","type","text"],[1,"col-md-6"],["matInput","","placeholder","E-mail","name","email","formControlName","email","type","text"],["matInput","","placeholder","Phone","type","text","formControlName","phone","name","phone"],["matInput","","placeholder","Address","type","text","formControlName","address","name","address"],["matInput","","placeholder","City","type","text","name","city","formControlName","city"],["matInput","","placeholder","Country","type","text","name","country","formControlName","country"],["matInput","","placeholder","Postal Code","type","text","name","zip","formControlName","zip"],["mat-raised-button","","type","submit",1,"btn","btn-danger","pull-right"],[1,"clearfix"],[1,"alert","alert-success"],["mat-button","","type","button","data-dismiss","alert","aria-label","Close",1,"close"],[1,"material-icons"],[1,"alert","alert-danger"],[3,"value"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Adauga un nou sportiv"),t.qZA(),t.TgZ(8,"p",7),t._uU(9,"Adauga informatii despre sportiv"),t.qZA()(),t.TgZ(10,"div",8),t.YNc(11,N,6,0,"div",9),t.YNc(12,x,6,1,"div",10),t.TgZ(13,"form",11),t.NdJ("ngSubmit",function(){return s.addOrEditUser()}),t._UZ(14,"input",12),t.TgZ(15,"div",2)(16,"div",13)(17,"mat-form-field")(18,"mat-select",14),t.YNc(19,w,2,2,"mat-option",15),t.qZA()()(),t.TgZ(20,"div",13)(21,"mat-form-field",16),t._UZ(22,"input",17),t.qZA()(),t.TgZ(23,"div",13)(24,"mat-form-field",16),t._UZ(25,"input",18),t.qZA()()(),t.TgZ(26,"div",2)(27,"div",19)(28,"mat-form-field",16),t._UZ(29,"input",20),t.qZA()(),t.TgZ(30,"div",19)(31,"mat-form-field",16),t._UZ(32,"input",21),t.qZA()()(),t.TgZ(33,"div",2)(34,"div",3)(35,"mat-form-field",16),t._UZ(36,"input",22),t.qZA()()(),t.TgZ(37,"div",2)(38,"div",13)(39,"mat-form-field",16),t._UZ(40,"input",23),t.qZA()(),t.TgZ(41,"div",13)(42,"mat-form-field",16),t._UZ(43,"input",24),t.qZA()(),t.TgZ(44,"div",13)(45,"mat-form-field",16),t._UZ(46,"input",25),t.qZA()()(),t.TgZ(47,"button",26),t._uU(48,"Update Profile"),t.qZA(),t._UZ(49,"div",27),t.qZA()()()()()()()),2&a&&(t.xp6(11),t.Q6J("ngIf",s.showSuccess),t.xp6(1),t.Q6J("ngIf",s.showError),t.xp6(1),t.Q6J("formGroup",s.userForm),t.xp6(6),t.Q6J("ngForOf",s.titles))},dependencies:[d.sg,d.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,T.ey,b.Nt,A.KE,y.gD,C.lW]})}return r})();const F=[{path:"",children:[{path:"add",component:p}]},{path:"",children:[{path:"edit",component:p}]},{path:"",children:[{path:"list",component:U}]}];let I=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=t.oAB({type:r});static \u0275inj=t.cJS({imports:[d.ez,m.Bz.forChild(F),i.u5,i.UX,f.TW,v.vO,g.q]})}return r})()}}]);